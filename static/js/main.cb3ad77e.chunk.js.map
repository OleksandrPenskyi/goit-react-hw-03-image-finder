{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/pics-api.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","value","handleSearchQuery","event","setState","currentTarget","handleSubmitForm","preventDefault","onSubmit","props","this","className","style","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","webformatURL","largeImageURL","onImgClick","onClick","src","alt","ImageGalleryItemImage","ImageGallery","pictures","map","id","Button","onBtnClick","Loader","Spinner","color","height","width","modalRoot","document","querySelector","Modal","handleEscapeToCloseModal","code","onCloseModal","handleBackdropToCloseModal","target","window","addEventListener","removeEventListener","createPortal","Overlay","axios","defaults","baseURL","searchValue","currentPage","get","then","response","data","hits","App","searchQuery","isLoading","isVisibleModal","fetchData","api","prevState","scrollTo","top","documentElement","scrollHeight","behavior","btnClick","handleSubmit","handleClickOnImg","link","handleCloseModal","prevProps","isVisibleBtn","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cb3ad77e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Exw-\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3g4mD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3C-mK\",\"Modal\":\"Modal_Modal__3vYof\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__kg34p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3nToX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Loader_Spinner__3n_CN\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport style from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n\r\n  state = {\r\n    value: '',\r\n  };\r\n\r\n  handleSearchQuery = event => {\r\n    this.setState({ value: event.currentTarget.value });\r\n  };\r\n\r\n  handleSubmitForm = event => {\r\n    event.preventDefault();\r\n\r\n    const { onSubmit } = this.props;\r\n    const { value } = this.state;\r\n    onSubmit(value);\r\n  };\r\n\r\n  render() {\r\n    const { value } = this.state;\r\n\r\n    return (\r\n      <header className={style.Searchbar}>\r\n        <form onSubmit={this.handleSubmitForm} className={style.SearchForm}>\r\n          <button type=\"submit\" className={style.SearchFormButton}>\r\n            <span className={style.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            onChange={this.handleSearchQuery}\r\n            value={value}\r\n            className={style.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport style from './ImageGalleryItem.module.css';\r\n\r\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onImgClick }) => {\r\n  return (\r\n    <li className={style.ImageGalleryItem}>\r\n      <img\r\n        onClick={() => onImgClick(largeImageURL)}\r\n        src={webformatURL}\r\n        alt=\"img\"\r\n        className={style.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport ImageGalleryItem from './ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport style from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ pictures, onImgClick }) => (\r\n  <ul className={style.ImageGallery}>\r\n    {pictures.map(({ id, webformatURL, largeImageURL }) => (\r\n      <ImageGalleryItem\r\n        webformatURL={webformatURL}\r\n        onImgClick={onImgClick}\r\n        largeImageURL={largeImageURL}\r\n        key={id}\r\n      />\r\n    ))}\r\n  </ul>\r\n);\r\n\r\nexport default ImageGallery;\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number,\r\n    }).isRequired,\r\n  ).isRequired,\r\n  onImgClick: PropTypes.func.isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport style from './Button.module.css';\r\n\r\nconst Button = ({ onBtnClick }) => (\r\n  <button onClick={onBtnClick} type=\"button\" className={style.Button}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n\r\nButton.propTypes = {\r\n  onBtnClick: PropTypes.func.isRequired,\r\n};\r\n","import React, { Component } from 'react';\r\nimport Spinner from 'react-loader-spinner';\r\n\r\nimport style from './Loader.module.css';\r\n\r\nclass Loader extends Component {\r\n  render() {\r\n    return (\r\n      <div className={style.Spinner}>\r\n        <Spinner type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Loader;\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport style from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  static propTypes = {\r\n    onCloseModal: PropTypes.func.isRequired,\r\n    largeImageURL: PropTypes.string.isRequired,\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscapeToCloseModal);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscapeToCloseModal);\r\n  }\r\n\r\n  handleEscapeToCloseModal = event => {\r\n    if (event.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  handleBackdropToCloseModal = event => {\r\n    if (event.target === event.currentTarget) {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { largeImageURL } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={style.Overlay} onClick={this.handleBackdropToCloseModal}>\r\n        <div className={style.Modal}>\r\n          <img src={largeImageURL} alt=\"largeImage\" />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","/* eslint-disable import/no-anonymous-default-export */\r\nimport axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://pixabay.com/api';\r\nconst API_KEY = '21631018-2260b91e787408b7a6b929027';\r\n\r\nconst getPics = (searchValue, currentPage) => {\r\n  return axios\r\n    .get(\r\n      `/?q=${searchValue}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nexport default { getPics };\r\n","import React, { Component } from 'react';\r\nimport Searchbar from './components/Searchbar';\r\nimport ImageGallery from './components/ImageGallery';\r\nimport Button from './components/Button';\r\nimport Loader from './components/Loader';\r\nimport Modal from './components/Modal';\r\n\r\nimport api from './services/pics-api';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    searchQuery: '',\r\n    currentPage: 1,\r\n    isLoading: false,\r\n    isVisibleModal: false,\r\n    largeImageURL: '',\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { searchQuery, currentPage } = this.state;\r\n\r\n    if (prevState.searchQuery !== searchQuery) {\r\n      // console.log('Стейт обновился');\r\n      // console.log('Стейт:', searchQuery);\r\n      this.fetchData(searchQuery, currentPage);\r\n    }\r\n  }\r\n\r\n  fetchData = (searchQuery, currentPage) => {\r\n    api\r\n      .getPics(searchQuery, currentPage)\r\n      .then(data => {\r\n        this.setState(prevState => ({\r\n          pictures: [...prevState.pictures, ...data],\r\n          currentPage: prevState.currentPage + 1,\r\n          isLoading: false,\r\n        }));\r\n      })\r\n      .then(() => {\r\n        window.scrollTo({\r\n          top: document.documentElement.scrollHeight,\r\n          behavior: 'smooth',\r\n        });\r\n      });\r\n  };\r\n\r\n  btnClick = () => {\r\n    const { searchQuery, currentPage } = this.state;\r\n\r\n    this.setState({\r\n      isLoading: true,\r\n    });\r\n\r\n    this.fetchData(searchQuery, currentPage);\r\n  };\r\n\r\n  handleSubmit = searchValue => {\r\n    const { searchQuery } = this.state;\r\n\r\n    // проверка на ввод того же значения инпута\r\n    if (searchValue !== searchQuery) {\r\n      this.setState({\r\n        pictures: [],\r\n        searchQuery: searchValue,\r\n        currentPage: 1,\r\n        isLoading: true,\r\n      });\r\n    }\r\n  };\r\n\r\n  handleClickOnImg = link => {\r\n    this.setState({ largeImageURL: link, isVisibleModal: true });\r\n  };\r\n\r\n  handleCloseModal = () => {\r\n    this.setState({\r\n      isVisibleModal: false,\r\n      largeImageURL: '',\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { pictures, isLoading, isVisibleModal, largeImageURL } = this.state;\r\n    const isVisibleBtn = pictures.length > 0 && !isLoading;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleSubmit} />\r\n        {pictures.length > 0 && (\r\n          <ImageGallery\r\n            pictures={pictures}\r\n            onImgClick={this.handleClickOnImg}\r\n          />\r\n        )}\r\n\r\n        {isLoading && <Loader />}\r\n        {isVisibleBtn && <Button onBtnClick={this.btnClick} />}\r\n\r\n        {isVisibleModal && (\r\n          <Modal\r\n            largeImageURL={largeImageURL}\r\n            onCloseModal={this.handleCloseModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport 'modern-normalize/modern-normalize.css';\r\nimport './styles.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2XfVS\",\"SearchForm\":\"Searchbar_SearchForm__2tgkn\",\"SearchFormButton\":\"Searchbar_SearchFormButton__xP04K\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__1Lk9N\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2sqyz\"};"],"sourceRoot":""}